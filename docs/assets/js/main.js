"use strict";const button=document.querySelector(".search"),input=document.querySelector(".input"),list=document.querySelector(".list");let listFavourites=document.querySelector(".myFavourites");const imgDefault="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let favourites=[];function search(){list.innerHTML="";const e=`http://api.tvmaze.com/search/shows?q=${input.value}`;fetch(e).then(e=>e.json()).then(e=>{console.log(e);for(const s of e){null===s.show.image?list.innerHTML+=`<li class="serie"><img class="photo" src="${imgDefault}"<br>${s.show.name}</li>`:list.innerHTML+=`<li class="serie"><img class="photo" src="${s.show.image.medium}"<br>${s.show.name}</li>`;const e=document.querySelectorAll("li");for(const s of e){function t(){s.classList.toggle("favourite"),s.classList.contains("favourite")&&(favourites.push(s),console.log(favourites)),listFavourites.innerHTML="";for(let e=0;e<favourites.length;e++){listFavourites.innerHTML+=`<li>${favourites[e].innerHTML}</li>`,localStorage.setItem("favourites",JSON.stringify(favourites));const t=JSON.parse(localStorage.getItem("favourites"));console.log(t.length)}}s.addEventListener("click",t)}}})}button.addEventListener("click",search);